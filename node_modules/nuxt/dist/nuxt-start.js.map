{"version":3,"file":"nuxt-start.js","sources":["../../../lib/common/utils.js","../../../lib/core/module.js","../../../lib/common/modes.js","../../../lib/common/nuxt.config.js","../../../lib/common/options.js","../../../lib/core/meta.js","../../../lib/core/middleware/error.js","../../../lib/core/middleware/nuxt.js","../../../lib/core/renderer.js","../../../lib/core/nuxt.js","../../../lib/core/index.js","../src/index.js"],"sourcesContent":["import path from 'path'\nimport _ from 'lodash'\nimport consola from 'consola'\n\nexport const encodeHtml = function encodeHtml(str) {\n  return str.replace(/</g, '&lt;').replace(/>/g, '&gt;')\n}\n\nexport const getContext = function getContext(req, res) {\n  return { req, res }\n}\n\nexport const waitFor = function waitFor(ms) {\n  return new Promise(resolve => setTimeout(resolve, ms || 0))\n}\n\nexport const isString = function isString(obj) {\n  return typeof obj === 'string' || obj instanceof String\n}\nexport const startsWithAlias = aliasArray => str => aliasArray.some(c => str.startsWith(c))\n\nexport const startsWithSrcAlias = startsWithAlias(['@', '~'])\n\nexport const startsWithRootAlias = startsWithAlias(['@@', '~~'])\n\nasync function promiseFinally(fn, finalFn) {\n  let result\n  try {\n    if (typeof fn === 'function') {\n      result = await fn()\n    } else {\n      result = await fn\n    }\n  } finally {\n    finalFn()\n  }\n  return result\n}\n\nexport const timeout = function timeout(fn, ms, msg) {\n  let timerId\n  const warpPromise = promiseFinally(fn, () => clearTimeout(timerId))\n  const timerPromise = new Promise((resolve, reject) => {\n    timerId = setTimeout(() => reject(new Error(msg)), ms)\n  })\n  return Promise.race([warpPromise, timerPromise])\n}\n\nexport const urlJoin = function urlJoin() {\n  return [].slice\n    .call(arguments)\n    .join('/')\n    .replace(/\\/+/g, '/')\n    .replace(':/', '://')\n}\n\nexport const isUrl = function isUrl(url) {\n  return ['http', '//'].some(str => url.startsWith(str))\n}\n\nexport const promisifyRoute = function promisifyRoute(fn, ...args) {\n  // If routes is an array\n  if (Array.isArray(fn)) {\n    return Promise.resolve(fn)\n  }\n  // If routes is a function expecting a callback\n  if (fn.length === arguments.length) {\n    return new Promise((resolve, reject) => {\n      fn((err, routeParams) => {\n        if (err) {\n          reject(err)\n        }\n        resolve(routeParams)\n      }, ...args)\n    })\n  }\n  let promise = fn(...args)\n  if (\n    !promise ||\n    (!(promise instanceof Promise) && typeof promise.then !== 'function')\n  ) {\n    promise = Promise.resolve(promise)\n  }\n  return promise\n}\n\nexport const sequence = function sequence(tasks, fn) {\n  return tasks.reduce(\n    (promise, task) => promise.then(() => fn(task)),\n    Promise.resolve()\n  )\n}\n\nexport const parallel = function parallel(tasks, fn) {\n  return Promise.all(tasks.map(fn))\n}\n\nexport const chainFn = function chainFn(base, fn) {\n  /* istanbul ignore if */\n  if (typeof fn !== 'function') {\n    return base\n  }\n  return function () {\n    if (typeof base !== 'function') {\n      return fn.apply(this, arguments)\n    }\n    let baseResult = base.apply(this, arguments)\n    // Allow function to mutate the first argument instead of returning the result\n    if (baseResult === undefined) {\n      baseResult = arguments[0]\n    }\n    const fnResult = fn.call(\n      this,\n      baseResult,\n      ...Array.prototype.slice.call(arguments, 1)\n    )\n    // Return mutated argument if no result was returned\n    if (fnResult === undefined) {\n      return baseResult\n    }\n    return fnResult\n  }\n}\n\nexport const isPureObject = function isPureObject(o) {\n  return !Array.isArray(o) && typeof o === 'object'\n}\n\nexport const isWindows = /^win/.test(process.platform)\n\nexport const wp = function wp(p = '') {\n  /* istanbul ignore if */\n  if (isWindows) {\n    return p.replace(/\\\\/g, '\\\\\\\\')\n  }\n  return p\n}\n\nexport const wChunk = function wChunk(p = '') {\n  /* istanbul ignore if */\n  if (isWindows) {\n    return p.replace(/\\//g, '_')\n  }\n  return p\n}\n\nconst reqSep = /\\//g\nconst sysSep = _.escapeRegExp(path.sep)\nconst normalize = string => string.replace(reqSep, sysSep)\n\nexport const r = function r(...args) {\n  const lastArg = args[args.length - 1]\n\n  if (startsWithSrcAlias(lastArg)) {\n    return wp(lastArg)\n  }\n\n  return wp(path.resolve(...args.map(normalize)))\n}\n\nexport const relativeTo = function relativeTo() {\n  const args = Array.prototype.slice.apply(arguments)\n  const dir = args.shift()\n\n  // Keep webpack inline loader intact\n  if (args[0].includes('!')) {\n    const loaders = args.shift().split('!')\n\n    return loaders.concat(relativeTo(dir, loaders.pop(), ...args)).join('!')\n  }\n\n  // Resolve path\n  const _path = r(...args)\n\n  // Check if path is an alias\n  if (startsWithSrcAlias(_path)) {\n    return _path\n  }\n\n  // Make correct relative path\n  let rp = path.relative(dir, _path)\n  if (rp[0] !== '.') {\n    rp = './' + rp\n  }\n\n  return wp(rp)\n}\n\nexport const flatRoutes = function flatRoutes(router, _path = '', routes = []) {\n  router.forEach((r) => {\n    if ([':', '*'].some(c => r.path.includes(c))) {\n      return\n    }\n    /* istanbul ignore if */\n    if (r.children) {\n      if (_path === '' && r.path === '/') {\n        routes.push('/')\n      }\n      return flatRoutes(r.children, _path + r.path + '/', routes)\n    }\n    _path = _path.replace(/^\\/+$/, '/')\n    routes.push(\n      (r.path === '' && _path[_path.length - 1] === '/'\n        ? _path.slice(0, -1)\n        : _path) + r.path\n    )\n  })\n  return routes\n}\n\nfunction cleanChildrenRoutes(routes, isChild = false) {\n  let start = -1\n  const routesIndex = []\n  routes.forEach((route) => {\n    if (/-index$/.test(route.name) || route.name === 'index') {\n      // Save indexOf 'index' key in name\n      const res = route.name.split('-')\n      const s = res.indexOf('index')\n      start = start === -1 || s < start ? s : start\n      routesIndex.push(res)\n    }\n  })\n  routes.forEach((route) => {\n    route.path = isChild ? route.path.replace('/', '') : route.path\n    if (route.path.includes('?')) {\n      const names = route.name.split('-')\n      const paths = route.path.split('/')\n      if (!isChild) {\n        paths.shift()\n      } // clean first / for parents\n      routesIndex.forEach((r) => {\n        const i = r.indexOf('index') - start //  children names\n        if (i < paths.length) {\n          for (let a = 0; a <= i; a++) {\n            if (a === i) {\n              paths[a] = paths[a].replace('?', '')\n            }\n            if (a < i && names[a] !== r[a]) {\n              break\n            }\n          }\n        }\n      })\n      route.path = (isChild ? '' : '/') + paths.join('/')\n    }\n    route.name = route.name.replace(/-index$/, '')\n    if (route.children) {\n      if (route.children.find(child => child.path === '')) {\n        delete route.name\n      }\n      route.children = cleanChildrenRoutes(route.children, true)\n    }\n  })\n  return routes\n}\n\nexport const createRoutes = function createRoutes(files, srcDir, pagesDir) {\n  const routes = []\n  files.forEach((file) => {\n    const keys = file\n      .replace(RegExp(`^${pagesDir}`), '')\n      .replace(/\\.(vue|js)$/, '')\n      .replace(/\\/{2,}/g, '/')\n      .split('/')\n      .slice(1)\n    const route = { name: '', path: '', component: r(srcDir, file) }\n    let parent = routes\n    keys.forEach((key, i) => {\n      // remove underscore only, if its the prefix\n      const sanitizedKey = key.startsWith('_') ? key.substr(1) : key\n\n      route.name = route.name\n        ? route.name + '-' + sanitizedKey\n        : sanitizedKey\n      route.name += key === '_' ? 'all' : ''\n      route.chunkName = file.replace(/\\.(vue|js)$/, '')\n      const child = parent.find(parentRoute => parentRoute.name === route.name)\n\n      if (child) {\n        child.children = child.children || []\n        parent = child.children\n        route.path = ''\n      } else if (key === 'index' && i + 1 === keys.length) {\n        route.path += i > 0 ? '' : '/'\n      } else {\n        route.path += '/' + getRoutePathExtension(key)\n\n        if (key.startsWith('_') && key.length > 1) {\n          route.path += '?'\n        }\n      }\n    })\n    // Order Routes path\n    parent.push(route)\n    parent.sort((a, b) => {\n      if (!a.path.length) {\n        return -1\n      }\n      if (!b.path.length) {\n        return 1\n      }\n      // Order: /static, /index, /:dynamic\n      // Match exact route before index: /login before /index/_slug\n      if (a.path === '/') {\n        return DYNAMIC_ROUTE_REGEX.test(b.path) ? -1 : 1\n      }\n      if (b.path === '/') {\n        return DYNAMIC_ROUTE_REGEX.test(a.path) ? 1 : -1\n      }\n\n      let i\n      let res = 0\n      let y = 0\n      let z = 0\n      const _a = a.path.split('/')\n      const _b = b.path.split('/')\n      for (i = 0; i < _a.length; i++) {\n        if (res !== 0) {\n          break\n        }\n        y = _a[i] === '*' ? 2 : _a[i].includes(':') ? 1 : 0\n        z = _b[i] === '*' ? 2 : _b[i].includes(':') ? 1 : 0\n        res = y - z\n        // If a.length >= b.length\n        if (i === _b.length - 1 && res === 0) {\n          // change order if * found\n          res = _a[i] === '*' ? -1 : 1\n        }\n      }\n      return res === 0 ? (_a[i - 1] === '*' && _b[i] ? 1 : -1) : res\n    })\n  })\n  return cleanChildrenRoutes(routes)\n}\n\n// Guard dir1 from dir2 which can be indiscriminately removed\nexport const guardDir = function guardDir(options, key1, key2) {\n  const dir1 = _.get(options, key1, false)\n  const dir2 = _.get(options, key2, false)\n\n  if (\n    dir1 &&\n    dir2 &&\n    (\n      dir1 === dir2 ||\n      (\n        dir1.startsWith(dir2) &&\n        !path.basename(dir1).startsWith(path.basename(dir2))\n      )\n    )\n  ) {\n    const errorMessage = `options.${key2} cannot be a parent of or same as ${key1}`\n    consola.fatal(errorMessage)\n    throw new Error(errorMessage)\n  }\n}\n\nexport const determineGlobals = function determineGlobals(globalName, globals) {\n  const _globals = {}\n  for (const global in globals) {\n    if (typeof globals[global] === 'function') {\n      _globals[global] = globals[global](globalName)\n    } else {\n      _globals[global] = globals[global]\n    }\n  }\n  return _globals\n}\n\nconst getRoutePathExtension = (key) => {\n  if (key === '_') {\n    return '*'\n  }\n\n  if (key.startsWith('_')) {\n    return `:${key.substr(1)}`\n  }\n\n  return key\n}\n\nconst DYNAMIC_ROUTE_REGEX = /^\\/(:|\\*)/\n\n/**\n * Wraps value in array if it is not already an array\n *\n * @param  {any} value\n * @return {array}\n */\nexport const wrapArray = value => Array.isArray(value) ? value : [value]\n","import path from 'path'\nimport fs from 'fs'\nimport hash from 'hash-sum'\nimport consola from 'consola'\nimport { chainFn, sequence } from '../common/utils'\n\nexport default class ModuleContainer {\n  constructor(nuxt) {\n    this.nuxt = nuxt\n    this.options = nuxt.options\n    this.requiredModules = {}\n  }\n\n  async ready() {\n    // Call before hook\n    await this.nuxt.callHook('modules:before', this, this.options.modules)\n\n    // Load every module in sequence\n    await sequence(this.options.modules, this.addModule.bind(this))\n\n    // Call done hook\n    await this.nuxt.callHook('modules:done', this)\n  }\n\n  addVendor() {\n    consola.warn('addVendor has been deprecated due to webpack4 optimization')\n  }\n\n  addTemplate(template) {\n    /* istanbul ignore if */\n    if (!template) {\n      throw new Error('Invalid template:' + JSON.stringify(template))\n    }\n\n    // Validate & parse source\n    const src = template.src || template\n    const srcPath = path.parse(src)\n    /* istanbul ignore if */\n    if (typeof src !== 'string' || !fs.existsSync(src)) {\n      throw new Error('Template src not found:' + src)\n    }\n\n    // Generate unique and human readable dst filename\n    const dst =\n      template.fileName ||\n      path.basename(srcPath.dir) + `.${srcPath.name}.${hash(src)}` + srcPath.ext\n\n    // Add to templates list\n    const templateObj = {\n      src,\n      dst,\n      options: template.options\n    }\n\n    this.options.build.templates.push(templateObj)\n    return templateObj\n  }\n\n  addPlugin(template) {\n    const { dst } = this.addTemplate(template)\n\n    // Add to nuxt plugins\n    this.options.plugins.unshift({\n      src: path.join(this.options.buildDir, dst),\n      ssr: template.ssr\n    })\n  }\n\n  addLayout(template, name) {\n    const { dst, src } = this.addTemplate(template)\n\n    // Add to nuxt layouts\n    this.options.layouts[name || path.parse(src).name] = `./${dst}`\n\n    // If error layout, set ErrorPage\n    if (name === 'error') {\n      this.addErrorLayout(dst)\n    }\n  }\n\n  addErrorLayout(dst) {\n    const relativeBuildDir = path.relative(this.options.rootDir, this.options.buildDir)\n    this.options.ErrorPage = `~/${relativeBuildDir}/${dst}`\n  }\n\n  addServerMiddleware(middleware) {\n    this.options.serverMiddleware.push(middleware)\n  }\n\n  extendBuild(fn) {\n    this.options.build.extend = chainFn(this.options.build.extend, fn)\n  }\n\n  extendRoutes(fn) {\n    this.options.router.extendRoutes = chainFn(\n      this.options.router.extendRoutes,\n      fn\n    )\n  }\n\n  requireModule(moduleOpts) {\n    return this.addModule(moduleOpts, true /* require once */)\n  }\n\n  addModule(moduleOpts, requireOnce) {\n    let src\n    let options\n    let handler\n\n    // Type 1: String\n    if (typeof moduleOpts === 'string') {\n      src = moduleOpts\n    } else if (Array.isArray(moduleOpts)) {\n      // Type 2: Babel style array\n      src = moduleOpts[0]\n      options = moduleOpts[1]\n    } else if (typeof moduleOpts === 'object') {\n      // Type 3: Pure object\n      src = moduleOpts.src\n      options = moduleOpts.options\n      handler = moduleOpts.handler\n    }\n\n    // Resolve handler\n    if (!handler) {\n      handler = this.nuxt.requireModule(src)\n    }\n\n    // Validate handler\n    /* istanbul ignore if */\n    if (typeof handler !== 'function') {\n      throw new Error('Module should export a function: ' + src)\n    }\n\n    // Resolve module meta\n    const key = (handler.meta && handler.meta.name) || handler.name || src\n\n    // Update requiredModules\n    if (typeof key === 'string') {\n      if (requireOnce && this.requiredModules[key]) {\n        return\n      }\n      this.requiredModules[key] = { src, options, handler }\n    }\n\n    // Default module options to empty object\n    if (options === undefined) {\n      options = {}\n    }\n\n    return new Promise((resolve) => {\n      // Call module with `this` context and pass options\n      const result = handler.call(this, options)\n\n      // If module send back a promise\n      if (result && result.then) {\n        return resolve(result)\n      }\n\n      // synchronous\n      return resolve()\n    })\n  }\n}\n","export default {\n  universal: {\n    build: {\n      ssr: true\n    },\n    render: {\n      ssr: true\n    }\n  },\n  spa: {\n    build: {\n      ssr: false\n    },\n    render: {\n      ssr: false\n    }\n  }\n}\n","import path from 'path'\nimport fs from 'fs'\nimport _ from 'lodash'\nimport env from 'std-env'\n\nconst nuxtDir = fs.existsSync(path.resolve(__dirname, '..', 'package.json'))\n  ? path.resolve(__dirname, '..') // dist\n  : path.resolve(__dirname, '..', '..') // src\n\nexport default {\n  // Information about running environment\n  dev: Boolean(env.dev),\n  debug: undefined, // = dev\n\n  // Mode\n  mode: 'universal',\n\n  // Global name\n  globalName: `nuxt`,\n  globals: {\n    id: globalName => `__${globalName}`,\n    nuxt: globalName => `$${globalName}`,\n    context: globalName => `__${globalName.toUpperCase()}__`,\n    pluginPrefix: globalName => globalName,\n    readyCallback: globalName => `on${_.capitalize(globalName)}Ready`,\n    loadedCallback: globalName => `_on${_.capitalize(globalName)}Loaded`\n  },\n\n  // Server options\n  server: {\n    https: false,\n    port: process.env.NUXT_PORT ||\n      process.env.PORT ||\n      process.env.npm_package_config_nuxt_port,\n    host: process.env.NUXT_HOST ||\n      process.env.HOST ||\n      process.env.npm_package_config_nuxt_host\n  },\n\n  // Dirs\n  srcDir: undefined,\n  buildDir: '.nuxt',\n  nuxtDir,\n  nuxtAppDir: path.resolve(nuxtDir, 'lib', 'app'),\n  modulesDir: ['node_modules'], // ~> relative to options.rootDir\n\n  // Ignore\n  ignorePrefix: '-',\n  ignore: [\n    '**/*.test.*',\n    '**/*.spec.*'\n  ],\n\n  extensions: [],\n\n  build: {\n    quiet: Boolean(env.ci || env.test),\n    analyze: false,\n    profile: process.argv.includes('--profile'),\n    extractCSS: false,\n    cssSourceMap: undefined,\n    ssr: undefined,\n    parallel: false,\n    cache: false,\n    publicPath: '/_nuxt/',\n    filenames: {\n      // { isDev, isClient, isServer }\n      app: ({ isDev }) => isDev ? '[name].js' : '[chunkhash].js',\n      chunk: ({ isDev }) => isDev ? '[name].js' : '[chunkhash].js',\n      css: ({ isDev }) => isDev ? '[name].css' : '[contenthash].css',\n      img: ({ isDev }) => isDev ? '[path][name].[ext]' : 'img/[hash:7].[ext]',\n      font: ({ isDev }) => isDev ? '[path][name].[ext]' : 'fonts/[hash:7].[ext]',\n      video: ({ isDev }) => isDev ? '[path][name].[ext]' : 'videos/[hash:7].[ext]'\n    },\n    loaders: {\n      file: {},\n      fontUrl: { limit: 1000 },\n      imgUrl: { limit: 1000 },\n      pugPlain: {},\n      vue: {\n        transformAssetUrls: {\n          video: 'src',\n          source: 'src',\n          object: 'src',\n          embed: 'src'\n        }\n      },\n      css: {},\n      cssModules: {\n        localIdentName: '[local]_[hash:base64:5]'\n      },\n      less: {},\n      sass: {\n        indentedSyntax: true\n      },\n      scss: {},\n      stylus: {},\n      vueStyle: {}\n    },\n    styleResources: {},\n    plugins: [],\n    terser: {},\n    optimizeCSS: undefined,\n    optimization: {\n      runtimeChunk: 'single',\n      minimize: undefined,\n      minimizer: undefined,\n      splitChunks: {\n        chunks: 'all',\n        automaticNameDelimiter: '.',\n        name: undefined,\n        cacheGroups: {}\n      }\n    },\n    splitChunks: {\n      layouts: false,\n      pages: true,\n      commons: true\n    },\n    babel: {\n      babelrc: false,\n      cacheDirectory: undefined\n    },\n    transpile: [], // Name of NPM packages to be transpiled\n    postcss: {\n      preset: {\n        // https://cssdb.org/#staging-process\n        stage: 2\n      }\n    },\n    html: {\n      minify: {\n        collapseBooleanAttributes: true,\n        decodeEntities: true,\n        minifyCSS: true,\n        minifyJS: true,\n        processConditionalComments: true,\n        removeEmptyAttributes: true,\n        removeRedundantAttributes: true,\n        trimCustomFragments: true,\n        useShortDoctype: true\n      }\n    },\n\n    templates: [],\n    watch: [],\n    devMiddleware: {},\n    hotMiddleware: {},\n    stats: {\n      chunks: false,\n      children: false,\n      modules: false,\n      colors: true,\n      warnings: true,\n      errors: true,\n      excludeAssets: [\n        /.map$/,\n        /index\\..+\\.html$/,\n        /vue-ssr-client-manifest.json/\n      ]\n    }\n  },\n  generate: {\n    dir: 'dist',\n    routes: [],\n    concurrency: 500,\n    interval: 0,\n    subFolders: true,\n    fallback: '200.html'\n  },\n  env: {},\n  head: {\n    meta: [],\n    link: [],\n    style: [],\n    script: []\n  },\n  plugins: [],\n  css: [],\n  modules: [],\n  layouts: {},\n  serverMiddleware: [],\n  ErrorPage: null,\n  loading: {\n    color: 'black',\n    failedColor: 'red',\n    height: '2px',\n    throttle: 200,\n    duration: 5000,\n    rtl: false\n  },\n  loadingIndicator: 'default',\n  transition: {\n    name: 'page',\n    mode: 'out-in',\n    appear: false,\n    appearClass: 'appear',\n    appearActiveClass: 'appear-active',\n    appearToClass: 'appear-to'\n  },\n  layoutTransition: {\n    name: 'layout',\n    mode: 'out-in'\n  },\n  dir: {\n    assets: 'assets',\n    layouts: 'layouts',\n    middleware: 'middleware',\n    pages: 'pages',\n    static: 'static',\n    store: 'store'\n  },\n  vue: {\n    config: {\n      silent: undefined, // = !dev\n      performance: undefined // = dev\n    }\n  },\n  router: {\n    mode: 'history',\n    base: '/',\n    routes: [],\n    middleware: [],\n    linkActiveClass: 'nuxt-link-active',\n    linkExactActiveClass: 'nuxt-link-exact-active',\n    extendRoutes: null,\n    scrollBehavior: null,\n    parseQuery: false,\n    stringifyQuery: false,\n    fallback: false\n  },\n  render: {\n    bundleRenderer: {\n      shouldPrefetch: () => false\n    },\n    resourceHints: true,\n    ssr: undefined,\n    http2: {\n      push: false,\n      shouldPush: null\n    },\n    static: {\n      prefix: true\n    },\n    compressor: {\n      threshold: 0\n    },\n    etag: {\n      weak: false\n    },\n    csp: false,\n    dist: {\n      // Don't serve index.html template\n      index: false,\n      // 1 year in production\n      maxAge: '1y'\n    }\n  },\n  // User-defined changes\n  watch: [],\n  watchers: {\n    webpack: {},\n    chokidar: {\n      ignoreInitial: true\n    }\n  },\n  editor: undefined,\n  hooks: null,\n  messages: {\n    loading: 'Loading...',\n    error_404: 'This page could not be found',\n    server_error: 'Server error',\n    nuxtjs: 'Nuxt.js',\n    back_to_home: 'Back to the home page',\n    server_error_details:\n      'An error occurred in the application and your page could not be served. If you are the application owner, check your logs for details.',\n    client_error: 'Error',\n    client_error_details:\n      'An error occurred while rendering the page. Check developer tools console for details.'\n  }\n}\n","import path from 'path'\nimport fs from 'fs'\n\nimport _ from 'lodash'\nimport consola from 'consola'\nimport { isPureObject, isUrl, guardDir } from '../common/utils'\n\nimport modes from './modes'\nimport defaults from './nuxt.config'\n\n// hasValue utility\nconst hasValue = v => typeof v === 'string' && v\n\nconst Options = {}\n\nexport default Options\n\nOptions.from = function (_options) {\n  // Clone options to prevent unwanted side-effects\n  const options = Object.assign({}, _options)\n\n  // Normalize options\n  if (options.loading === true) {\n    delete options.loading\n  }\n  if (\n    options.router &&\n    options.router.middleware &&\n    !Array.isArray(options.router.middleware)\n  ) {\n    options.router.middleware = [options.router.middleware]\n  }\n  if (options.router && typeof options.router.base === 'string') {\n    options._routerBaseSpecified = true\n  }\n  if (typeof options.transition === 'string') {\n    options.transition = { name: options.transition }\n  }\n  if (typeof options.layoutTransition === 'string') {\n    options.layoutTransition = { name: options.layoutTransition }\n  }\n  if (typeof options.extensions === 'string') {\n    options.extensions = [options.extensions]\n  }\n\n  options.globalName = (_.isString(options.globalName) && /^[a-zA-Z]+$/.test(options.globalName))\n    ? options.globalName.toLowerCase()\n    : 'nuxt'\n\n  // Resolve rootDir\n  options.rootDir = hasValue(options.rootDir) ? path.resolve(options.rootDir) : process.cwd()\n\n  // Apply defaults by ${buildDir}/dist/build.config.js\n  // TODO: Unsafe operation.\n  // const buildDir = options.buildDir || defaults.buildDir\n  // const buildConfig = resolve(options.rootDir, buildDir, 'build.config.js')\n  // if (existsSync(buildConfig)) {\n  //   _.defaultsDeep(options, require(buildConfig))\n  // }\n\n  // Apply defaults\n  _.defaultsDeep(options, defaults)\n\n  // Check srcDir and generate.dir excistence\n  const hasSrcDir = hasValue(options.srcDir)\n  const hasGenerateDir = hasValue(options.generate.dir)\n\n  // Resolve srcDir\n  options.srcDir = hasSrcDir\n    ? path.resolve(options.rootDir, options.srcDir)\n    : options.rootDir\n\n  // Resolve buildDir\n  options.buildDir = path.resolve(options.rootDir, options.buildDir)\n\n  // Protect rootDir against buildDir\n  guardDir(options, 'rootDir', 'buildDir')\n\n  if (hasGenerateDir) {\n    // Resolve generate.dir\n    options.generate.dir = path.resolve(options.rootDir, options.generate.dir)\n\n    // Protect rootDir against buildDir\n    guardDir(options, 'rootDir', 'generate.dir')\n  }\n\n  if (hasSrcDir) {\n    // Protect srcDir against buildDir\n    guardDir(options, 'srcDir', 'buildDir')\n\n    if (hasGenerateDir) {\n      // Protect srcDir against generate.dir\n      guardDir(options, 'srcDir', 'generate.dir')\n    }\n  }\n\n  // Populate modulesDir\n  options.modulesDir = []\n    .concat(options.modulesDir)\n    .concat(path.join(options.nuxtDir, 'node_modules')).filter(hasValue)\n    .map(dir => path.resolve(options.rootDir, dir))\n\n  const mandatoryExtensions = ['js', 'mjs']\n\n  options.extensions = mandatoryExtensions\n    .filter(ext => !options.extensions.includes(ext))\n    .concat(options.extensions)\n\n  // If app.html is defined, set the template path to the user template\n  if (options.appTemplatePath === undefined) {\n    options.appTemplatePath = path.resolve(options.buildDir, 'views/app.template.html')\n    if (fs.existsSync(path.join(options.srcDir, 'app.html'))) {\n      options.appTemplatePath = path.join(options.srcDir, 'app.html')\n    }\n  } else {\n    options.appTemplatePath = path.resolve(options.srcDir, options.appTemplatePath)\n  }\n\n  // Ignore publicPath on dev\n  /* istanbul ignore if */\n  if (options.dev && isUrl(options.build.publicPath)) {\n    options.build.publicPath = defaults.build.publicPath\n  }\n\n  // If store defined, update store options to true unless explicitly disabled\n  if (\n    options.store !== false &&\n    fs.existsSync(path.join(options.srcDir, options.dir.store)) &&\n    fs.readdirSync(path.join(options.srcDir, options.dir.store))\n      .find(filename => filename !== 'README.md' && filename[0] !== '.')\n  ) {\n    options.store = true\n  }\n\n  // SPA loadingIndicator\n  if (options.loadingIndicator) {\n    // Normalize loadingIndicator\n    if (!isPureObject(options.loadingIndicator)) {\n      options.loadingIndicator = { name: options.loadingIndicator }\n    }\n\n    // Apply defaults\n    options.loadingIndicator = Object.assign(\n      {\n        name: 'default',\n        color: (options.loading && options.loading.color) || '#D3D3D3',\n        color2: '#F5F5F5',\n        background: (options.manifest && options.manifest.theme_color) || 'white',\n        dev: options.dev,\n        loading: options.messages.loading\n      },\n      options.loadingIndicator\n    )\n  }\n\n  // Debug errors\n  if (options.debug === undefined) {\n    options.debug = options.dev\n  }\n\n  // Apply default hash to CSP option\n  const csp = options.render.csp\n  const cspDefaults = {\n    hashAlgorithm: 'sha256',\n    allowedSources: undefined,\n    policies: undefined,\n    reportOnly: options.debug\n  }\n  if (csp) {\n    options.render.csp = _.defaults(_.isObject(csp) ? csp : {}, cspDefaults)\n  }\n\n  // cssSourceMap\n  if (options.build.cssSourceMap === undefined) {\n    options.build.cssSourceMap = options.dev\n  }\n\n  // babel cacheDirectory\n  if (options.build.babel.cacheDirectory === undefined) {\n    options.build.babel.cacheDirectory = options.dev\n  }\n\n  // vue config\n  const vueConfig = options.vue.config\n\n  if (vueConfig.silent === undefined) {\n    vueConfig.silent = !options.dev\n  }\n  if (vueConfig.performance === undefined) {\n    vueConfig.performance = options.dev\n  }\n\n  // merge custom env with variables\n  const eligibleEnvVariables = _.pick(process.env, Object.keys(process.env).filter(k => k.startsWith('NUXT_ENV_')))\n  Object.assign(options.env, eligibleEnvVariables)\n\n  // Normalize ignore\n  options.ignore = options.ignore ? [].concat(options.ignore) : []\n\n  // Append ignorePrefix glob to ignore\n  if (typeof options.ignorePrefix === 'string') {\n    options.ignore.push(`**/${options.ignorePrefix}*.*`)\n  }\n\n  // Compression middleware legacy\n  if (options.render.gzip) {\n    consola.warn('render.gzip is deprecated and will be removed in a future version! Please switch to render.compressor')\n    options.render.compressor = options.render.gzip\n    delete options.render.gzip\n  }\n\n  // Apply mode preset\n  const modePreset = modes[options.mode || 'universal'] || modes.universal\n  _.defaultsDeep(options, modePreset)\n\n  // If no server-side rendering, add appear true transition\n  /* istanbul ignore if */\n  if (options.render.ssr === false && options.transition) {\n    options.transition.appear = true\n  }\n\n  // We assume the SPA fallback path is 404.html (for GitHub Pages, Surge, etc.)\n  if (options.generate.fallback === true) {\n    options.generate.fallback = '404.html'\n  }\n\n  if (options.build.stats === 'none' || options.build.quiet === true) {\n    options.build.stats = false\n  }\n\n  // Vendor backward compatibility with nuxt 1.x\n  if (typeof options.build.vendor !== 'undefined') {\n    delete options.build.vendor\n    consola.warn('vendor has been deprecated due to webpack4 optimization')\n  }\n\n  // TODO: remove when mini-css-extract-plugin supports HMR\n  if (options.dev) {\n    options.build.extractCSS = false\n  }\n\n  // Enable minimize for production builds\n  if (options.build.optimization.minimize === undefined) {\n    options.build.optimization.minimize = !options.dev\n  }\n\n  // Enable optimizeCSS only when extractCSS is enabled\n  if (options.build.optimizeCSS === undefined) {\n    options.build.optimizeCSS = options.build.extractCSS ? {} : false\n  }\n\n  const loaders = options.build.loaders\n  const vueLoader = loaders.vue\n  if (vueLoader.productionMode === undefined) {\n    vueLoader.productionMode = !options.dev\n  }\n  const styleLoaders = [\n    'css', 'cssModules', 'less',\n    'sass', 'scss', 'stylus', 'vueStyle'\n  ]\n  for (const name of styleLoaders) {\n    const loader = loaders[name]\n    if (loader && loader.sourceMap === undefined) {\n      loader.sourceMap = Boolean(options.build.cssSourceMap)\n    }\n  }\n\n  // include SFCs in node_modules\n  options.build.transpile = [].concat(options.build.transpile || [])\n    .map(module => module instanceof RegExp ? module : new RegExp(module))\n\n  if (options.build.quiet === true) {\n    consola.level = 0\n  }\n\n  return options\n}\n","import Vue from 'vue'\nimport VueMeta from 'vue-meta'\nimport { createRenderer } from 'vue-server-renderer'\nimport LRU from 'lru-cache'\n\nexport default class MetaRenderer {\n  constructor(nuxt, renderer) {\n    this.nuxt = nuxt\n    this.renderer = renderer\n    this.options = nuxt.options\n    this.vueRenderer = createRenderer()\n    this.cache = LRU({})\n\n    // Add VueMeta to Vue (this is only for SPA mode)\n    // See lib/app/index.js\n    Vue.use(VueMeta, {\n      keyName: 'head',\n      attribute: 'data-n-head',\n      ssrAttribute: 'data-n-head-ssr',\n      tagIDKeyName: 'hid'\n    })\n  }\n\n  async getMeta(url) {\n    const vm = new Vue({\n      render: h => h(), // Render empty html tag\n      head: this.options.head || {}\n    })\n    await this.vueRenderer.renderToString(vm)\n    return vm.$meta().inject()\n  }\n\n  async render({ url = '/' }) {\n    let meta = this.cache.get(url)\n\n    if (meta) {\n      return meta\n    }\n\n    meta = {\n      HTML_ATTRS: '',\n      BODY_ATTRS: '',\n      HEAD: '',\n      BODY_SCRIPTS: ''\n    }\n\n    // Get vue-meta context\n    const m = await this.getMeta(url)\n\n    // HTML_ATTRS\n    meta.HTML_ATTRS = m.htmlAttrs.text()\n\n    // BODY_ATTRS\n    meta.BODY_ATTRS = m.bodyAttrs.text()\n\n    // HEAD tags\n    meta.HEAD =\n      m.title.text() +\n      m.meta.text() +\n      m.link.text() +\n      m.style.text() +\n      m.script.text() +\n      m.noscript.text()\n\n    // BODY_SCRIPTS\n    meta.BODY_SCRIPTS = m.script.text({ body: true }) + m.noscript.text({ body: true })\n\n    // Resources Hints\n\n    meta.resourceHints = ''\n\n    const clientManifest = this.renderer.resources.clientManifest\n\n    const shouldPreload = this.options.render.bundleRenderer.shouldPreload || (() => true)\n    const shouldPrefetch = this.options.render.bundleRenderer.shouldPrefetch || (() => true)\n\n    if (this.options.render.resourceHints && clientManifest) {\n      const publicPath = clientManifest.publicPath || '/_nuxt/'\n\n      // Preload initial resources\n      if (Array.isArray(clientManifest.initial)) {\n        meta.resourceHints += clientManifest.initial\n          .filter(file => shouldPreload(file))\n          .map(\n            r => `<link rel=\"preload\" href=\"${publicPath}${r}\" as=\"script\" />`\n          )\n          .join('')\n      }\n\n      // Prefetch async resources\n      if (Array.isArray(clientManifest.async)) {\n        meta.resourceHints += clientManifest.async\n          .filter(file => shouldPrefetch(file))\n          .map(r => `<link rel=\"prefetch\" href=\"${publicPath}${r}\" />`)\n          .join('')\n      }\n\n      // Add them to HEAD\n      if (meta.resourceHints) {\n        meta.HEAD += meta.resourceHints\n      }\n    }\n\n    // Emulate getPreloadFiles from vue-server-renderer (works for JS chunks only)\n    meta.getPreloadFiles = () =>\n      clientManifest.initial\n        .filter(file => shouldPreload(file))\n        .map(r => ({\n          file: r,\n          fileWithoutQuery: r,\n          asType: 'script',\n          extension: 'js'\n        }))\n\n    // Set meta tags inside cache\n    this.cache.set(url, meta)\n\n    return meta\n  }\n}\n","import path from 'path'\nimport consola from 'consola'\n\nimport Youch from '@nuxtjs/youch'\nimport fs from 'fs-extra'\n\nexport default function errorMiddleware(err, req, res, next) {\n  // ensure statusCode, message and name fields\n  err.statusCode = err.statusCode || 500\n  err.message = err.message || 'Nuxt Server Error'\n  err.name = !err.name || err.name === 'Error' ? 'NuxtServerError' : err.name\n\n  // We hide actual errors from end users, so show them on server logs\n  if (err.statusCode !== 404) {\n    consola.error(err)\n  }\n\n  const sendResponse = (content, type = 'text/html') => {\n    // Set Headers\n    res.statusCode = err.statusCode\n    res.statusMessage = err.name\n    res.setHeader('Content-Type', type + '; charset=utf-8')\n    res.setHeader('Content-Length', Buffer.byteLength(content))\n    res.setHeader('Cache-Control', 'no-cache, no-store, max-age=0, must-revalidate')\n\n    // Send Response\n    res.end(content, 'utf-8')\n  }\n\n  // Check if request accepts JSON\n  const hasReqHeader = (header, includes) =>\n    req.headers[header] && req.headers[header].toLowerCase().includes(includes)\n  const isJson =\n    hasReqHeader('accept', 'application/json') ||\n    hasReqHeader('user-agent', 'curl/')\n\n  // Use basic errors when debug mode is disabled\n  if (!this.options.debug) {\n    // Json format is compatible with Youch json responses\n    const json = {\n      status: err.statusCode,\n      message: err.message,\n      name: err.name\n    }\n    if (isJson) {\n      sendResponse(JSON.stringify(json, undefined, 2), 'text/json')\n      return\n    }\n    const html = this.resources.errorTemplate(json)\n    sendResponse(html)\n    return\n  }\n\n  // Show stack trace\n  const youch = new Youch(\n    err,\n    req,\n    readSource.bind(this),\n    this.options.router.base,\n    true\n  )\n  if (isJson) {\n    youch.toJSON().then((json) => {\n      sendResponse(JSON.stringify(json, undefined, 2), 'text/json')\n    })\n  } else {\n    youch.toHTML().then(html => sendResponse(html))\n  }\n}\n\nasync function readSource(frame) {\n  // Remove webpack:/// & query string from the end\n  const sanitizeName = name =>\n    name ? name.replace('webpack:///', '').split('?')[0] : null\n  frame.fileName = sanitizeName(frame.fileName)\n\n  // Return if fileName is unknown\n  /* istanbul ignore if */\n  if (!frame.fileName) {\n    return\n  }\n\n  // Possible paths for file\n  const searchPath = [\n    this.options.srcDir,\n    this.options.rootDir,\n    path.join(this.options.buildDir, 'dist', 'server'),\n    this.options.buildDir,\n    process.cwd()\n  ]\n\n  // Scan filesystem for real source\n  for (const pathDir of searchPath) {\n    const fullPath = path.resolve(pathDir, frame.fileName)\n    const source = await fs.readFile(fullPath, 'utf-8').catch(() => null)\n    if (source) {\n      frame.contents = source\n      frame.fullPath = fullPath\n      if (path.isAbsolute(frame.fileName)) {\n        frame.fileName = path.relative(this.options.rootDir, fullPath)\n      }\n      return\n    }\n  }\n\n  // Fallback: use server bundle\n  // TODO: restore to if after https://github.com/istanbuljs/nyc/issues/595 fixed\n  /* istanbul ignore next */\n  if (!frame.contents) {\n    frame.contents = this.resources.serverBundle.files[frame.fileName]\n  }\n}\n","import generateETag from 'etag'\nimport fresh from 'fresh'\nimport consola from 'consola'\n\nimport { getContext } from '../../common/utils'\n\nexport default async function nuxtMiddleware(req, res, next) {\n  // Get context\n  const context = getContext(req, res)\n\n  res.statusCode = 200\n  try {\n    const result = await this.renderRoute(req.url, context)\n    await this.nuxt.callHook('render:route', req.url, result, context)\n    const {\n      html,\n      cspScriptSrcHashSet,\n      error,\n      redirected,\n      getPreloadFiles\n    } = result\n\n    if (redirected) {\n      this.nuxt.callHook('render:routeDone', req.url, result, context)\n      return html\n    }\n    if (error) {\n      res.statusCode = context.nuxt.error.statusCode || 500\n    }\n\n    // Add ETag header\n    if (!error && this.options.render.etag) {\n      const etag = generateETag(html, this.options.render.etag)\n      if (fresh(req.headers, { etag })) {\n        res.statusCode = 304\n        res.end()\n        this.nuxt.callHook('render:routeDone', req.url, result, context)\n        return\n      }\n      res.setHeader('ETag', etag)\n    }\n\n    // HTTP2 push headers for preload assets\n    if (!error && this.options.render.http2.push) {\n      // Parse resourceHints to extract HTTP.2 prefetch/push headers\n      // https://w3c.github.io/preload/#server-push-http-2\n      const pushAssets = []\n      const preloadFiles = getPreloadFiles()\n      const { shouldPush } = this.options.render.http2\n      const { publicPath } = this.resources.clientManifest\n\n      preloadFiles.forEach(({ file, asType, fileWithoutQuery }) => {\n        // By default, we only preload scripts or css\n        /* istanbul ignore if */\n        if (!shouldPush && asType !== 'script' && asType !== 'style') {\n          return\n        }\n\n        // User wants to explicitly control what to preload\n        if (shouldPush && !shouldPush(fileWithoutQuery, asType)) {\n          return\n        }\n\n        pushAssets.push(`<${publicPath}${file}>; rel=preload; as=${asType}`)\n      })\n\n      // Pass with single Link header\n      // https://blog.cloudflare.com/http-2-server-push-with-multiple-assets-per-link-header\n      // https://www.w3.org/Protocols/9707-link-header.html\n      res.setHeader('Link', pushAssets.join(','))\n    }\n\n    if (this.options.render.csp) {\n      const { allowedSources, policies } = this.options.render.csp\n      const cspHeader = this.options.render.csp.reportOnly ? 'Content-Security-Policy-Report-Only' : 'Content-Security-Policy'\n\n      res.setHeader(cspHeader, getCspString({ cspScriptSrcHashSet, allowedSources, policies, isDev: this.options.dev }))\n    }\n\n    // Send response\n    res.setHeader('Content-Type', 'text/html; charset=utf-8')\n    res.setHeader('Content-Length', Buffer.byteLength(html))\n    res.end(html, 'utf8')\n    this.nuxt.callHook('render:routeDone', req.url, result, context)\n    return html\n  } catch (err) {\n    /* istanbul ignore if */\n    if (context && context.redirected) {\n      consola.error(err)\n      return err\n    }\n\n    next(err)\n  }\n}\n\nconst getCspString = ({ cspScriptSrcHashSet, allowedSources, policies, isDev }) => {\n  const joinedHashSet = Array.from(cspScriptSrcHashSet).join(' ')\n  const baseCspStr = `script-src 'self'${isDev ? ` 'unsafe-eval'` : ''} ${joinedHashSet}`\n\n  if (Array.isArray(allowedSources)) {\n    return `${baseCspStr} ${allowedSources.join(' ')}`\n  }\n\n  const policyObjectAvailable = typeof policies === 'object' && policies !== null && !Array.isArray(policies)\n\n  if (policyObjectAvailable) {\n    const transformedPolicyObject = transformPolicyObject(policies, cspScriptSrcHashSet)\n\n    return Object.entries(transformedPolicyObject).map(([k, v]) => `${k} ${v.join(' ')}`).join('; ')\n  }\n\n  return baseCspStr\n}\n\nconst transformPolicyObject = (policies, cspScriptSrcHashSet) => {\n  const userHasDefinedScriptSrc = policies['script-src'] && Array.isArray(policies['script-src'])\n\n  // Self is always needed for inline-scripts, so add it, no matter if the user specified script-src himself.\n\n  const hashAndPolicySet = cspScriptSrcHashSet\n  hashAndPolicySet.add(`'self'`)\n\n  if (!userHasDefinedScriptSrc) {\n    policies['script-src'] = Array.from(hashAndPolicySet)\n    return policies\n  }\n\n  new Set(policies['script-src']).forEach(src => hashAndPolicySet.add(src))\n\n  policies['script-src'] = Array.from(hashAndPolicySet)\n\n  return policies\n}\n","import path from 'path'\nimport crypto from 'crypto'\n\nimport devalue from '@nuxtjs/devalue'\nimport serveStatic from 'serve-static'\nimport _ from 'lodash'\nimport fs from 'fs-extra'\nimport { createBundleRenderer } from 'vue-server-renderer'\nimport connect from 'connect'\nimport launchMiddleware from 'launch-editor-middleware'\nimport consola from 'consola'\n\nimport { isUrl, timeout, waitFor, determineGlobals } from '../common/utils'\nimport defaults from '../common/nuxt.config'\n\nimport MetaRenderer from './meta'\nimport errorMiddleware from './middleware/error'\nimport nuxtMiddleware from './middleware/nuxt'\n\nlet jsdom = null\n\nexport default class Renderer {\n  constructor(nuxt) {\n    this.nuxt = nuxt\n    this.options = nuxt.options\n    this.globals = determineGlobals(nuxt.options.globalName, nuxt.options.globals)\n\n    // Will be set by createRenderer\n    this.bundleRenderer = null\n    this.metaRenderer = null\n\n    // Will be available on dev\n    this.webpackDevMiddleware = null\n    this.webpackHotMiddleware = null\n\n    // Create new connect instance\n    this.app = connect()\n\n    // Renderer runtime resources\n    this.resources = {\n      clientManifest: null,\n      serverBundle: null,\n      ssrTemplate: null,\n      spaTemplate: null,\n      errorTemplate: parseTemplate('Nuxt.js Internal Server Error')\n    }\n  }\n\n  async ready() {\n    await this.nuxt.callHook('render:before', this, this.options.render)\n    // Setup nuxt middleware\n    await this.setupMiddleware()\n\n    // Production: Load SSR resources from fs\n    if (!this.options.dev) {\n      await this.loadResources()\n    }\n\n    // Call done hook\n    await this.nuxt.callHook('render:done', this)\n  }\n\n  async loadResources(_fs = fs) {\n    const distPath = path.resolve(this.options.buildDir, 'dist', 'server')\n    const updated = []\n\n    resourceMap.forEach(({ key, fileName, transform }) => {\n      const rawKey = '$$' + key\n      const _path = path.join(distPath, fileName)\n\n      if (!_fs.existsSync(_path)) {\n        return // Resource not exists\n      }\n      const rawData = _fs.readFileSync(_path, 'utf8')\n      if (!rawData || rawData === this.resources[rawKey]) {\n        return // No changes\n      }\n      this.resources[rawKey] = rawData\n      const data = transform(rawData)\n      /* istanbul ignore if */\n      if (!data) {\n        return // Invalid data ?\n      }\n      this.resources[key] = data\n      updated.push(key)\n    })\n\n    // Reload error template\n    const errorTemplatePath = path.resolve(this.options.buildDir, 'views/error.html')\n    if (fs.existsSync(errorTemplatePath)) {\n      this.resources.errorTemplate = parseTemplate(\n        fs.readFileSync(errorTemplatePath, 'utf8')\n      )\n    }\n\n    // Load loading template\n    const loadingHTMLPath = path.resolve(this.options.buildDir, 'loading.html')\n    if (fs.existsSync(loadingHTMLPath)) {\n      this.resources.loadingHTML = fs.readFileSync(loadingHTMLPath, 'utf8')\n      this.resources.loadingHTML = this.resources.loadingHTML\n        .replace(/\\r|\\n|[\\t\\s]{3,}/g, '')\n    } else {\n      this.resources.loadingHTML = ''\n    }\n\n    // Call resourcesLoaded plugin\n    await this.nuxt.callHook('render:resourcesLoaded', this.resources)\n\n    if (updated.length > 0) {\n      this.createRenderer()\n    }\n  }\n\n  get noSSR() {\n    return this.options.render.ssr === false\n  }\n\n  get isReady() {\n    if (this.noSSR) {\n      return Boolean(this.resources.spaTemplate)\n    }\n\n    return Boolean(this.bundleRenderer && this.resources.ssrTemplate)\n  }\n\n  get isResourcesAvailable() {\n    // Required for both\n    /* istanbul ignore if */\n    if (!this.resources.clientManifest) {\n      return false\n    }\n\n    // Required for SPA rendering\n    if (this.noSSR) {\n      return Boolean(this.resources.spaTemplate)\n    }\n\n    // Required for bundle renderer\n    return Boolean(this.resources.ssrTemplate && this.resources.serverBundle)\n  }\n\n  createRenderer() {\n    // Ensure resources are available\n    if (!this.isResourcesAvailable) {\n      return\n    }\n\n    // Create Meta Renderer\n    this.metaRenderer = new MetaRenderer(this.nuxt, this)\n\n    // Skip following steps if noSSR mode\n    if (this.noSSR) {\n      return\n    }\n\n    const hasModules = fs.existsSync(path.resolve(this.options.rootDir, 'node_modules'))\n    // Create bundle renderer for SSR\n    this.bundleRenderer = createBundleRenderer(\n      this.resources.serverBundle,\n      Object.assign(\n        {\n          clientManifest: this.resources.clientManifest,\n          runInNewContext: false,\n          // for globally installed nuxt command, search dependencies in global dir\n          basedir: hasModules ? this.options.rootDir : __dirname\n        },\n        this.options.render.bundleRenderer\n      )\n    )\n  }\n\n  useMiddleware(m) {\n    // Resolve\n    const $m = m\n    if (typeof m === 'string') {\n      m = this.nuxt.requireModule(m)\n    }\n    if (typeof m.handler === 'string') {\n      m.handler = this.nuxt.requireModule(m.handler)\n    }\n\n    const handler = m.handler || m\n    const path = (\n      (m.prefix !== false ? this.options.router.base : '') +\n      (typeof m.path === 'string' ? m.path : '')\n    ).replace(/\\/\\//g, '/')\n\n    handler.$m = $m\n\n    // Use middleware\n    this.app.use(path, handler)\n  }\n\n  get publicPath() {\n    return isUrl(this.options.build.publicPath)\n      ? defaults.build.publicPath\n      : this.options.build.publicPath\n  }\n\n  async setupMiddleware() {\n    // Apply setupMiddleware from modules first\n    await this.nuxt.callHook('render:setupMiddleware', this.app)\n\n    // Compression middleware for production\n    if (!this.options.dev) {\n      const compressor = this.options.render.compressor\n      if (typeof compressor === 'object') {\n        // If only setting for `compression` are provided, require the module and insert\n        // Prefer require instead of requireModule to keep dependency in nuxt-start\n        const compression = require('compression')\n        this.useMiddleware(compression(compressor))\n      } else {\n        // Else, require own compression middleware\n        this.useMiddleware(compressor)\n      }\n    }\n\n    // Add webpack middleware only for development\n    if (this.options.dev) {\n      this.useMiddleware(async (req, res, next) => {\n        if (this.webpackDevMiddleware) {\n          await this.webpackDevMiddleware(req, res)\n        }\n        if (this.webpackHotMiddleware) {\n          await this.webpackHotMiddleware(req, res)\n        }\n        next()\n      })\n    }\n\n    // open in editor for debug mode only\n    if (this.options.debug && this.options.dev) {\n      this.useMiddleware({\n        path: '__open-in-editor',\n        handler: launchMiddleware(this.options.editor)\n      })\n    }\n\n    // For serving static/ files to /\n    const staticMiddleware = serveStatic(\n      path.resolve(this.options.srcDir, this.options.dir.static),\n      this.options.render.static\n    )\n    staticMiddleware.prefix = this.options.render.static.prefix\n    this.useMiddleware(staticMiddleware)\n\n    // Serve .nuxt/dist/ files only for production\n    // For dev they will be served with devMiddleware\n    if (!this.options.dev) {\n      const distDir = path.resolve(this.options.buildDir, 'dist', 'client')\n      this.useMiddleware({\n        path: this.publicPath,\n        handler: serveStatic(\n          distDir,\n          this.options.render.dist\n        )\n      })\n    }\n\n    // Add User provided middleware\n    this.options.serverMiddleware.forEach((m) => {\n      this.useMiddleware(m)\n    })\n\n    // Finally use nuxtMiddleware\n    this.useMiddleware(nuxtMiddleware.bind(this))\n\n    // Error middleware for errors that occurred in middleware that declared above\n    // Middleware should exactly take 4 arguments\n    // https://github.com/senchalabs/connect#error-middleware\n\n    // Apply errorMiddleware from modules first\n    await this.nuxt.callHook('render:errorMiddleware', this.app)\n\n    // Apply errorMiddleware from Nuxt\n    this.useMiddleware(errorMiddleware.bind(this))\n  }\n\n  renderTemplate(ssr, opts) {\n    // Fix problem with HTMLPlugin's minify option (#3392)\n    opts.html_attrs = opts.HTML_ATTRS\n    opts.body_attrs = opts.BODY_ATTRS\n\n    const fn = ssr ? this.resources.ssrTemplate : this.resources.spaTemplate\n\n    return fn(opts)\n  }\n\n  async renderRoute(url, context = {}) {\n    /* istanbul ignore if */\n    if (!this.isReady) {\n      await waitFor(1000)\n      return this.renderRoute(url, context)\n    }\n\n    // Log rendered url\n    consola.debug(`Rendering url ${url}`)\n\n    // Add url and isSever to the context\n    context.url = url\n\n    // Basic response if SSR is disabled or spa data provided\n    const spa = context.spa || (context.res && context.res.spa)\n    const ENV = this.options.env\n\n    if (this.noSSR || spa) {\n      const {\n        HTML_ATTRS,\n        BODY_ATTRS,\n        HEAD,\n        BODY_SCRIPTS,\n        getPreloadFiles\n      } = await this.metaRenderer.render(context)\n      const APP =\n        `<div id=\"${this.globals.id}\">${this.resources.loadingHTML}</div>` + BODY_SCRIPTS\n\n      // Detect 404 errors\n      if (\n        url.includes(this.options.build.publicPath) ||\n        url.includes('__webpack')\n      ) {\n        const err = {\n          statusCode: 404,\n          message: this.options.messages.error_404,\n          name: 'ResourceNotFound'\n        }\n        throw err\n      }\n\n      const html = this.renderTemplate(false, {\n        HTML_ATTRS,\n        BODY_ATTRS,\n        HEAD,\n        APP,\n        ENV\n      })\n\n      return { html, getPreloadFiles }\n    }\n\n    // Call renderToString from the bundleRenderer and generate the HTML (will update the context as well)\n    let APP = await this.bundleRenderer.renderToString(context)\n\n    if (!context.nuxt.serverRendered) {\n      APP = `<div id=\"${this.globals.id}\"></div>`\n    }\n    const m = context.meta.inject()\n    let HEAD =\n      m.title.text() +\n      m.meta.text() +\n      m.link.text() +\n      m.style.text() +\n      m.script.text() +\n      m.noscript.text()\n    if (this.options._routerBaseSpecified) {\n      HEAD += `<base href=\"${this.options.router.base}\">`\n    }\n\n    if (this.options.render.resourceHints) {\n      HEAD += context.renderResourceHints()\n    }\n\n    await this.nuxt.callHook('render:routeContext', context.nuxt)\n\n    const serializedSession = `window.${this.globals.context}=${devalue(context.nuxt)};`\n\n    const cspScriptSrcHashSet = new Set()\n    if (this.options.render.csp) {\n      const { hashAlgorithm } = this.options.render.csp\n      const hash = crypto.createHash(hashAlgorithm)\n      hash.update(serializedSession)\n      cspScriptSrcHashSet.add(`'${hashAlgorithm}-${hash.digest('base64')}'`)\n    }\n\n    APP += `<script>${serializedSession}</script>`\n    APP += context.renderScripts()\n    APP += m.script.text({ body: true })\n    APP += m.noscript.text({ body: true })\n\n    HEAD += context.renderStyles()\n\n    const html = this.renderTemplate(true, {\n      HTML_ATTRS: 'data-n-head-ssr ' + m.htmlAttrs.text(),\n      BODY_ATTRS: m.bodyAttrs.text(),\n      HEAD,\n      APP,\n      ENV\n    })\n\n    return {\n      html,\n      cspScriptSrcHashSet,\n      getPreloadFiles: context.getPreloadFiles,\n      error: context.nuxt.error,\n      redirected: context.redirected\n    }\n  }\n\n  async renderAndGetWindow(url, opts = {}) {\n    /* istanbul ignore if */\n    if (!jsdom) {\n      try {\n        jsdom = require('jsdom')\n      } catch (e) /* istanbul ignore next */ {\n        consola.error(`\n         Fail when calling nuxt.renderAndGetWindow(url)\n         jsdom module is not installed\n         Please install jsdom with: npm install --save-dev jsdom\n        `)\n        throw e\n      }\n    }\n    const options = Object.assign({\n      resources: 'usable', // load subresources (https://github.com/tmpvar/jsdom#loading-subresources)\n      runScripts: 'dangerously',\n      virtualConsole: true,\n      beforeParse(window) {\n        // Mock window.scrollTo\n        window.scrollTo = () => {}\n      }\n    }, opts)\n    const jsdomErrHandler = (err) => { throw err }\n    if (options.virtualConsole) {\n      if (options.virtualConsole === true) {\n        options.virtualConsole = new jsdom.VirtualConsole().sendTo(consola)\n      }\n      // throw error when window creation failed\n      options.virtualConsole.on('jsdomError', jsdomErrHandler)\n    }\n    url = url || 'http://localhost:3000'\n    const { window } = await jsdom.JSDOM.fromURL(url, options)\n    // If Nuxt could not be loaded (error from the server-side)\n    const nuxtExists = window.document.body.innerHTML.includes(\n      this.options.render.ssr ? `window.${this.globals.context}` : `<div id=\"${this.globals.id}\">`\n    )\n    /* istanbul ignore if */\n    if (!nuxtExists) {\n      const error = new Error('Could not load the nuxt app')\n      error.body = window.document.body.innerHTML\n      throw error\n    }\n    // Used by nuxt.js to say when the components are loaded and the app ready\n    const onNuxtLoaded = this.globals.loadedCallback\n    await timeout(new Promise((resolve) => {\n      window[onNuxtLoaded] = () => resolve(window)\n    }), 20000, 'Components loading in renderAndGetWindow was not completed in 20s')\n    if (options.virtualConsole) {\n      // after window initialized successfully\n      options.virtualConsole.removeListener('jsdomError', jsdomErrHandler)\n    }\n    // Send back window object\n    return window\n  }\n}\n\nconst parseTemplate = templateStr =>\n  _.template(templateStr, {\n    interpolate: /{{([\\s\\S]+?)}}/g\n  })\n\nexport const resourceMap = [\n  {\n    key: 'clientManifest',\n    fileName: 'vue-ssr-client-manifest.json',\n    transform: JSON.parse\n  },\n  {\n    key: 'serverBundle',\n    fileName: 'server-bundle.json',\n    transform: JSON.parse\n  },\n  {\n    key: 'ssrTemplate',\n    fileName: 'index.ssr.html',\n    transform: parseTemplate\n  },\n  {\n    key: 'spaTemplate',\n    fileName: 'index.spa.html',\n    transform: parseTemplate\n  }\n]\n","import Module from 'module'\nimport { resolve, join } from 'path'\nimport https from 'https'\n\nimport enableDestroy from 'server-destroy'\nimport _ from 'lodash'\nimport fs from 'fs-extra'\nimport consola from 'consola'\nimport chalk from 'chalk'\nimport esm from 'esm'\nimport ip from 'ip'\n\nimport Options from '../common/options'\nimport { sequence, startsWithRootAlias, startsWithSrcAlias } from '../common/utils'\nimport packageJSON from '../../package.json'\n\nimport ModuleContainer from './module'\nimport Renderer from './renderer'\n\nexport default class Nuxt {\n  constructor(options = {}) {\n    this.options = Options.from(options)\n\n    this.readyMessage = null\n    this.initialized = false\n\n    // Hooks\n    this._hooks = {}\n    this.hook = this.hook.bind(this)\n\n    // Create instance of core components\n    this.moduleContainer = new ModuleContainer(this)\n    this.renderer = new Renderer(this)\n\n    // Backward compatibility\n    this.render = this.renderer.app\n    this.renderRoute = this.renderer.renderRoute.bind(this.renderer)\n    this.renderAndGetWindow = this.renderer.renderAndGetWindow.bind(\n      this.renderer\n    )\n    this.resolvePath = this.resolvePath.bind(this)\n    this.resolveAlias = this.resolveAlias.bind(this)\n\n    // ESM Loader\n    this.esm = esm(module, {})\n\n    this._ready = this.ready().catch((err) => {\n      consola.fatal(err)\n    })\n  }\n\n  static get version() {\n    return packageJSON.version\n  }\n\n  async ready() {\n    if (this._ready) {\n      return this._ready\n    }\n\n    // Add hooks\n    if (_.isPlainObject(this.options.hooks)) {\n      this.addHooks(this.options.hooks)\n    } else if (typeof this.options.hooks === 'function') {\n      this.options.hooks(this.hook)\n    }\n\n    // Await for modules\n    await this.moduleContainer.ready()\n\n    // Await for renderer to be ready\n    await this.renderer.ready()\n\n    this.initialized = true\n\n    // Call ready hook\n    await this.callHook('ready', this)\n\n    return this\n  }\n\n  hook(name, fn) {\n    if (!name || typeof fn !== 'function') {\n      return\n    }\n    if (name === 'render:context') {\n      name = 'render:routeContext'\n      consola.warn('render:context hook has been deprecated, please use render:routeContext')\n    }\n    this._hooks[name] = this._hooks[name] || []\n    this._hooks[name].push(fn)\n  }\n\n  async callHook(name, ...args) {\n    if (!this._hooks[name]) {\n      return\n    }\n    consola.debug(`Call ${name} hooks (${this._hooks[name].length})`)\n    try {\n      await sequence(this._hooks[name], fn => fn(...args))\n    } catch (err) {\n      consola.error(err)\n      this.callHook('error', err)\n    }\n  }\n\n  clearHook(name) {\n    if (name) {\n      delete this._hooks[name]\n    }\n  }\n\n  flatHooks(configHooks, hooks = {}, parentName) {\n    Object.keys(configHooks).forEach((key) => {\n      const subHook = configHooks[key]\n      const name = parentName ? `${parentName}:${key}` : key\n      if (typeof subHook === 'object' && subHook !== null) {\n        this.flatHooks(subHook, hooks, name)\n      } else {\n        hooks[name] = subHook\n      }\n    })\n    return hooks\n  }\n\n  addHooks(configHooks) {\n    const hooks = this.flatHooks(configHooks)\n    Object.keys(hooks).filter(Boolean).forEach((key) => {\n      [].concat(hooks[key]).forEach(h => this.hook(key, h))\n    })\n  }\n\n  showReady(clear = true) {\n    if (!this.readyMessage) {\n      return\n    }\n    consola.ready({\n      message: this.readyMessage,\n      badge: true,\n      clear\n    })\n    this.readyMessage = null\n  }\n\n  listen(port, host, socket) {\n    return this.ready().then(() => new Promise((resolve, reject) => {\n      if (!socket && typeof this.options.server.socket === 'string') {\n        socket = this.options.server.socket\n      }\n\n      const args = { exclusive: false }\n\n      if (socket) {\n        args.path = socket\n      } else {\n        args.port = port || this.options.server.port\n        args.host = host || this.options.server.host\n      }\n\n      let appServer\n      const isHttps = Boolean(this.options.server.https)\n\n      if (isHttps) {\n        let httpsOptions\n\n        if (this.options.server.https === true) {\n          httpsOptions = {}\n        } else {\n          httpsOptions = this.options.server.https\n        }\n\n        appServer = https.createServer(httpsOptions, this.renderer.app)\n      } else {\n        appServer = this.renderer.app\n      }\n\n      const server = appServer.listen(\n        args,\n        (err) => {\n          /* istanbul ignore if */\n          if (err) {\n            return reject(err)\n          }\n\n          let listenURL\n\n          if (!socket) {\n            ({ address: host, port } = server.address())\n            if (host === '127.0.0.1') {\n              host = 'localhost'\n            } else if (host === '0.0.0.0') {\n              host = ip.address()\n            }\n\n            listenURL = chalk.underline.blue(`http${isHttps ? 's' : ''}://${host}:${port}`)\n            this.readyMessage = `Listening on ${listenURL}`\n          } else {\n            listenURL = chalk.underline.blue(`unix+http://${socket}`)\n            this.readyMessage = `Listening on ${listenURL}`\n          }\n\n          // Close server on nuxt close\n          this.hook(\n            'close',\n            () =>\n              new Promise((resolve, reject) => {\n                // Destroy server by forcing every connection to be closed\n                server.listening && server.destroy((err) => {\n                  consola.debug('server closed')\n                  /* istanbul ignore if */\n                  if (err) {\n                    return reject(err)\n                  }\n                  resolve()\n                })\n              })\n          )\n\n          if (socket) {\n            this.callHook('listen', server, { path: socket }).then(resolve)\n          } else {\n            this.callHook('listen', server, { port, host }).then(resolve)\n          }\n        }\n      )\n\n      // Add server.destroy(cb) method\n      enableDestroy(server)\n    }))\n  }\n\n  resolveModule(path) {\n    try {\n      const resolvedPath = Module._resolveFilename(path, {\n        paths: this.options.modulesDir\n      })\n\n      return resolvedPath\n    } catch (error) {\n      if (error.code === 'MODULE_NOT_FOUND') {\n        return null\n      } else {\n        throw error\n      }\n    }\n  }\n\n  resolveAlias(path) {\n    const modulePath = this.resolveModule(path)\n\n    // Try to resolve it as if it were a regular node_module\n    // Package first. Fixes issue with @<org> scoped packages\n    if (modulePath != null) {\n      return modulePath\n    }\n\n    if (startsWithRootAlias(path)) {\n      return join(this.options.rootDir, path.substr(2))\n    }\n\n    if (startsWithSrcAlias(path)) {\n      return join(this.options.srcDir, path.substr(1))\n    }\n\n    return resolve(this.options.srcDir, path)\n  }\n\n  resolvePath(path) {\n    const _path = this.resolveAlias(path)\n\n    if (fs.existsSync(_path)) {\n      return _path\n    }\n\n    for (const ext of this.options.extensions) {\n      if (fs.existsSync(_path + '.' + ext)) {\n        return _path + '.' + ext\n      }\n    }\n\n    throw new Error(`Cannot resolve \"${path}\" from \"${_path}\"`)\n  }\n\n  requireModule(_path, opts = {}) {\n    const _resolvedPath = this.resolvePath(_path)\n    const m = opts.esm === false ? require(_resolvedPath) : this.esm(_resolvedPath)\n    return (m && m.default) || m\n  }\n\n  async close(callback) {\n    await this.callHook('close', this)\n\n    /* istanbul ignore if */\n    if (typeof callback === 'function') {\n      await callback()\n    }\n  }\n}\n","import Module from './module'\nimport Nuxt from './nuxt'\nimport Renderer from './renderer'\n\nexport default {\n  Nuxt,\n  Module,\n  Renderer\n}\n","import core from '../../../lib/core'\nimport * as Utils from '../../../lib/common/utils'\n\nexport default Object.assign({ Utils }, core)\n"],"names":["path","createRenderer","fs","createBundleRenderer","hash","name","join","resolve","Module"],"mappings":"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"}